# Частые проблемы

Решение типичных проблем при работе с системой "Вкатился".

## Проблемы при установке

### Python не найден

**Проблема:** Команда `python3` не найдена.

**Решение:**
```bash
# Проверьте установку Python
which python3
python3 --version

# Если не установлен, установите:
# macOS
brew install python@3.11

# Linux
sudo apt install python3.11
```

### Ошибки при установке зависимостей

**Проблема:** `pip install` падает с ошибками.

**Решение:**
1. Обновите pip: `pip install --upgrade pip`
2. Используйте виртуальное окружение
3. Проверьте версию Python: должна быть 3.11+

### Node.js не найден

**Проблема:** Команда `npm` не найдена.

**Решение:**
```bash
# Проверьте установку
node --version
npm --version

# Если не установлен:
# macOS
brew install node@20

# Linux
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt-get install -y nodejs
```

## Проблемы при запуске

### Backend не запускается

**Проблема:** Ошибки при запуске `uvicorn`.

**Решение:**
1. Проверьте переменные окружения: `cat .env`
2. Проверьте подключение к БД: `docker-compose ps postgres`
3. Проверьте логи: `docker-compose logs backend`
4. Убедитесь, что порт 8000 свободен: `lsof -i :8000`

### Frontend не запускается

**Проблема:** Ошибки при запуске `npm run dev`.

**Решение:**
1. Удалите `node_modules` и переустановите: `rm -rf node_modules && npm install`
2. Проверьте версию Node.js: должна быть 20+
3. Проверьте переменные окружения: `cat frontend/.env`

### База данных не подключается

**Проблема:** Ошибки подключения к PostgreSQL.

**Решение:**
1. Проверьте, что PostgreSQL запущен: `docker-compose ps postgres`
2. Проверьте переменные окружения БД в `.env`
3. Попробуйте подключиться вручную:
```bash
docker-compose exec postgres psql -U postgres -d hh_db
```

## Проблемы с аутентификацией

### Токен не работает

**Проблема:** Получаю 401 Unauthorized.

**Решение:**
1. Проверьте, что токен передается в заголовке: `Authorization: Bearer <token>`
2. Убедитесь, что токен не истек
3. Войдите заново для получения нового токена

### Не могу войти

**Проблема:** Ошибка при входе.

**Решение:**
1. Проверьте правильность email и пароля
2. Используйте восстановление пароля
3. Проверьте логи backend на ошибки

## Проблемы с API

### 404 Not Found

**Проблема:** Эндпоинт не найден.

**Решение:**
1. Проверьте правильность URL
2. Убедитесь, что backend запущен
3. Проверьте префикс API: должен быть `/api/...`

### 500 Internal Server Error

**Проблема:** Внутренняя ошибка сервера.

**Решение:**
1. Проверьте логи backend: `docker-compose logs backend`
2. Проверьте переменные окружения
3. Проверьте подключение к БД

### Медленные запросы

**Проблема:** API отвечает медленно.

**Решение:**
1. Проверьте нагрузку на сервер: `docker stats`
2. Проверьте логи на ошибки
3. Проверьте подключение к внешним API (HeadHunter, LLM)

## Проблемы с воркерами

### Воркеры не работают

**Проблема:** Автоотклики не отправляются.

**Решение:**
1. Проверьте логи воркеров: `tail -f backend/logs/auto_reply_worker_*.log`
2. Убедитесь, что воркеры запущены: проверьте логи backend при старте
3. Проверьте настройки резюме (включены ли автоотклики)

### Telegram бот не отвечает

**Проблема:** Бот не отвечает на команды.

**Решение:**
1. Проверьте `TELEGRAM_BOT_TOKEN` в переменных окружения
2. Проверьте логи: `tail -f backend/logs/telegram_bot_worker_*.log`
3. Убедитесь, что бот запущен

## Связанные разделы

- [Troubleshooting: БД](database-issues.md) — проблемы с базой данных
- [Troubleshooting: API](api-issues.md) — проблемы с API
- [Troubleshooting: Деплой](deployment-issues.md) — проблемы при деплое
