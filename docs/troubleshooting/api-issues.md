# Проблемы с API

Решение проблем с REST API и интеграциями.

## Ошибки аутентификации

### 401 Unauthorized

**Проблема:** Получаю 401 при запросах к API.

**Решение:**
1. Проверьте наличие токена в заголовке:
```bash
curl -H "Authorization: Bearer $TOKEN" http://localhost:8000/api/resumes
```

2. Убедитесь, что токен не истек
3. Войдите заново для получения нового токена

### Токен истек

**Проблема:** Токен больше не работает.

**Решение:**
1. Войдите заново через `/auth/login`
2. Получите новый токен
3. Обновите токен в клиенте

## Ошибки валидации

### 400 Bad Request

**Проблема:** Ошибка валидации данных.

**Решение:**
1. Проверьте формат данных в запросе
2. Проверьте обязательные поля
3. Проверьте типы данных

**Пример:**
```json
{
  "detail": "Validation error: email is required"
}
```

## Проблемы с производительностью

### Медленные ответы API

**Проблема:** API отвечает медленно.

**Решение:**
1. Проверьте нагрузку на сервер: `docker stats`
2. Проверьте логи на ошибки
3. Оптимизируйте запросы к БД
4. Проверьте подключение к внешним API

### Таймауты

**Проблема:** Запросы завершаются по таймауту.

**Решение:**
1. Увеличьте таймаут на клиенте
2. Проверьте производительность БД
3. Проверьте подключение к внешним API

## Проблемы с интеграциями

### HeadHunter API не отвечает

**Проблема:** Ошибки при запросах к HeadHunter.

**Решение:**
1. Проверьте доступность API: `curl https://api.hh.ru/vacancies`
2. Проверьте токены доступа пользователя
3. Проверьте rate limiting
4. Проверьте логи: `docker-compose logs backend | grep hh`

### LLM API не отвечает

**Проблема:** Ошибки при запросах к LLM.

**Решение:**
1. Проверьте `OPENAI_API_KEY` в переменных окружения
2. Проверьте доступность API: `curl $OPENAI_BASE_URL`
3. Проверьте лимиты API
4. Проверьте логи агентов

## Связанные разделы

- [API: Обработка ошибок](../api/error-handling.md) — формат ошибок
- [Troubleshooting: Общие проблемы](common-issues.md) — другие проблемы
